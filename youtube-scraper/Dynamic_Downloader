# First install pytubefix through 'pip install pytubefix' at compiler 

from pytubefix import YouTube
from pytubefix.cli import on_progress

def smallDownload():
  url = input("Enter the URL :\n").strip()

  yt = YouTube(url, on_progress_callback = on_progress)
  print(yt.title)

  ys = yt.streams.get_audio_only()
  new_var = ys.download(output_path="/content/Downloads",mp3= True )



def MultiDownload():
  inp 
  list_url=[]
  while inp != 'F':
    x=0
    x=x+1
    inp = input(f"if done enter \'F\' OR enter the url Links no {x} :\n " )
    list_url.append(inp)


  
  for url in list_url:
    try:
      yt = YouTube(url, on_progress_callback = on_progress)
      ffilename = yt.title
      print(yt.title)
      ys = yt.streams.get_audio_only()
      ys.download(filename=ffilename,output_path="/content/Downloads",mp3= True )
    except Exception as e :
      print(f"failed : {ffilename},error: {e}")
      continue



def main():
  print("Welcome To Youtube Scrapper")
  inp
  while inp !='X':
    inp = input("enter 'M' for Multiple file 'S' for single file:\n").upper()
    if inp == 'M':
      MultiDownload()
    if inp == 'S':
      smallDownload()

